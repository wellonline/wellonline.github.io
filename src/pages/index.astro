---
import "../styles/global.css";
import Layout from "../layouts/Layout.astro";
---

<style>
  .slogan {
    opacity: 0;
    transition: opacity 2s;
    position: absolute;
  }
  .slogan.active {
    opacity: 1;
  }
  .slogan.inactive {
    opacity: 0;
  }
  .hidden {
    display: none;
  }
  .coming-soon {
    opacity: 0;
    transition: opacity 3s;
    position: absolute;
  }
  .coming-soon.active {
    opacity: 1;
  }
</style>

<Layout title="Well เพื่อนรักษาใจ">
  <main
    style="
      background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 250px),
      url('/images/bg.svg') no-repeat top;
      background-size: cover;
    "
    class="flex flex-col items-center"
  >
    <img
      src="/images/logo-slogan.svg"
      alt="Well Slogan"
      class="w-52 md:w-80 h-auto mt-52"
    />
    <div class="w-full mt-8 h-32">
      <p class="text-lg font-normal text-blue slogan w-full text-center">
        วันที่คุณรู้สึก<span class="font-semibold text-5xl">”ท้อแท้”</span>
      </p>

      <p class="font-semibold text-5xl text-blue slogan w-full text-center">
        “เศร้าใจ”
      </p>

      <p class="text-lg font-normal text-blue slogan w-full text-center">
        หาทางออกให้ตัวเอง <span class="font-semibold text-5xl">”ไม่ได้”</span>
      </p>

      <p class="font-semibold text-5xl text-blue slogan w-full text-center">
        :(
      </p>

      <p class="text-lg font-normal text-blue slogan w-full text-center">
        ให้เราอยู่<br class="md:hidden lg:hidden" />
        <span class="font-semibold text-5xl">เคียงข้างคุณ :)</span>
      </p>
    </div>

    <button
      class="bg-btn-primary text-white font-semibold px-8 py-4 rounded-full hover:cursor-pointer"
      onclick="window.location.href = 'https://docs.google.com/forms/d/e/1FAIpQLSc6NWZ5u2-6T6lK41xDDPJOtpTsGtlQolbIi2_vLSV4o3tZBw/viewform?usp=header';"
      >Sign up on the waitlist</button
    >

    <img
      src="/images/coming-soon.svg"
      alt="Coming Soon"
      class="coming-soon bottom-0 max-h-80 object-contain"
    />
  </main>

  <script>
    const headings = document.querySelectorAll(".slogan");
    const comingSoonImage = document.querySelector("img[alt='Coming Soon']");
    let current = 0;

    function showNext() {
      headings[current].classList.remove("active");
      headings[current].classList.add("inactive");
      current++;
      if (current >= headings.length) {
        current = headings.length - 1;
        headings[current].classList.remove("inactive");
        headings[current].classList.add("active");
        if (comingSoonImage) {
          comingSoonImage.classList.add("active");
        }
        return;
      }
      setTimeout(() => {
        headings[current].classList.remove("inactive");
        headings[current].classList.add("active");
        if (current === headings.length - 1 && comingSoonImage) {
          comingSoonImage.classList.add("active");
        }
        setTimeout(showNext, 2000); // Changed from 3000 to 5000
      }, 2000); // Changed from 2000 to 5000
    }

    headings[current].classList.add("active"); // Show the first slogan immediately
    setTimeout(showNext, 3000); // Changed from 2000 to 5000
  </script>
</Layout>
